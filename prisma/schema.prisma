generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String    @id @default(uuid()) @db.Uuid
  email         String    @unique
  password      String?
  providers     String[]  @default([])
  systemLang    String?   @default("en")
  createdAt     DateTime  @default(now())
  google_linking DateTime? 
  histories     History[]
  savedItems    Saved[]
}


model History {
  id          String    @id @default(uuid()) @db.Uuid
  user        User      @relation(fields: [userId], references: [id])
  userId      String    @db.Uuid
  inputText   String
  translation String
  alt1        String?
  alt2        String?
  alt3        String?
  inputLang   String
  outputLang  String
  createdAt   DateTime  @default(now())
}

model Saved {
  id          String    @id @default(uuid()) @db.Uuid
  user        User      @relation(fields: [userId], references: [id])
  userId      String    @db.Uuid
  inputText   String
  translation String
  alt1        String?
  alt2        String?
  alt3        String?
  inputLang   String
  outputLang  String
  createdAt   DateTime  @default(now())
}
